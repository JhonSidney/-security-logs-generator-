<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jowsdev</title>
    <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha384-euK1MY/qIZjXfb6q5lNcHtjOd6Jeaq4NQEmlT93KjWLSlNlUqO5VI8dSTgD" crossorigin="anonymous">


</head>
<body>
    <div >
    <header class="p-3 text-bg-dark">
    <div class="container">
      <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
        <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
          <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap"><use xlink:href="#bootstrap"/></svg>
        </a>

        <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
          <li><a href="https://jowsdev.pythonanywhere.com/" class="nav-link px-2 text-secondary">Home</a></li>
          <li><a href="#" class="nav-link px-2 text-white">Features</a></li>
          <li><a href="#" class="nav-link px-2 text-white">Pricing</a></li>
          <li><a href="#" class="nav-link px-2 text-white">FAQs</a></li>
          <li><a href="#" class="nav-link px-2 text-white">About</a></li>
        </ul>

        <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search">
          <input type="search" class="form-control form-control-dark text-bg-dark" placeholder="Search..." aria-label="Search">
        </form>

        <div class="text-end">
          <button type="button" class="btn btn-outline-light me-2">Login</button>
          <button type="button" class="btn btn-warning">Sign-up</button>
        </div>
      </div>
    </div>
  </header>

    </div>

     <div class="bg-dark text-secondary px-4 py-5 text-center">
    <div class="py-5">
      <h1 class="display-5 fw-bold text-white">GERADOR DE LOGS CIBERNETICOS</h1>
      <div class="col-lg-6 mx-auto">
        <p class="fs-5 mb-4">É um prazer recebê-lo em nossa plataforma dedicada à geração de logs fictícios para a área de segurança cibernética. Aqui, você encontrará uma ferramenta poderosa e intuitiva projetada para auxiliar profissionais e entusiastas da cibersegurança a aprimorar suas habilidades e testar seus sistemas de maneira segura.</p>
        <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
          <button id="btnCarregarDados" type="button" class="btn btn-primary btn-lg px-4 me-sm-3 fw-bold">DeepSec/computers</button>
        </div>
      </div>

    <div class="container mt-5">
        <div class="card">
            <div style="border: 1px solid black;"class="card-body">
                <div style=" border-bottom: 1px solid black; margin:1px 0px 10px 0px; padding-bottom:10px; display: flex;">
                    <div class="btn-group col justify-content-end" role="group" aria-label="Basic outlined example">
                      <button onclick="gerarArquivo()" type="button" class="btn btn-outline-dark">
                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cloud-download" viewBox="0 0 16 16">
                                <path d="M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383z"/>
                                <path d="M7.646 15.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 14.293V5.5a.5.5 0 0 0-1 0v8.793l-2.146-2.147a.5.5 0 0 0-.708.708l3 3z"/>
                            </svg> Download File
                        </button>
                      <!--<button id="email" type="button" class="btn btn-outline-primary">export</button>-->
                      <button onclick="limparConteudo()" type="button" class="btn btn-outline-dark">
                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                              <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z"/>
                              <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z"/>
                          </svg>
                          clear
                      </button>
                      <button onclick="copyhall()" type="button" class="btn btn-outline-dark">
                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy" viewBox="0 0 16 16">
                          <path fill-rule="evenodd" d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6ZM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1H2Z"/>
                        </svg>
                        Copy
                      </button>
                    </div>
                </div>

                <div id="user-data" >
                    <!--Json here -->
                </div>
            </div>
        </div>
    </div>
    </div>
  </div>

   
    <script>

        function limparConteudo(){
          // Obtenha a referência para a div usando o ID
          var minhaDiv = document.getElementById("user-data");

          // Limpe o conteúdo da div
          minhaDiv.innerText = "";
          // ou use minhaDiv.textContent = ""; dependendo do seu caso de uso
        };

        function gerarArquivo(){

            // Suponha que você tenha recebido um response em uma variável chamada "response"
            const responser = document.getElementById('user-data');
            var response = responser.innerText;

            if (response != ""){

                // Crie um objeto Blob contendo o texto
                var blob = new Blob([response], { type: "text/plain;charset=utf-8" });

                 // Crie um link para o arquivo Blob
                var link = document.createElement("a");
                link.href = window.URL.createObjectURL(blob);

                // Defina o nome do arquivo
                link.download = "arquivo.txt";

                // Simule um clique no link para iniciar o download
                document.body.appendChild(link);
                link.click();

                // Remova o link da árvore DOM
                document.body.removeChild(link);
            }else{
                alert("Atenção você precisa gerar logs para realizar download!");
            }

        };

        function copyhall() {
          var elemento = document.getElementById("user-data");

          // Cria uma área de transferência temporária
          var areaDeTransferencia = document.createElement("textarea");

          // Define o valor da área de transferência como o texto do elemento
          areaDeTransferencia.value = elemento.innerText;

          if(areaDeTransferencia.value != ""){
              // Adiciona a área de transferência ao corpo do documento
              document.body.appendChild(areaDeTransferencia);

              // Seleciona o conteúdo da área de transferência
              areaDeTransferencia.select();
              areaDeTransferencia.setSelectionRange(0, 99999); // Para dispositivos móveis

              // Copia o conteúdo para a área de transferência
              document.execCommand("copy");

              // Remove a área de transferência temporária
              document.body.removeChild(areaDeTransferencia);
              alert("Log Copiado com sucesso !");
          }else{
              alert("Atenção você precisa gerar logs para realizar cópia!");
          }

        };

        document.getElementById('btnCarregarDados').addEventListener('click', function() {
            fetch('/computers').then(response => response.text())
            .then(data => {

               document.getElementById('user-data').innerHTML = `${data}`; ;
            });
        });

        document.addEventListener('DOMContentLoaded', function () {
          // Adiciona um ouvinte de evento para o evento 'close.bs.alert'
          document.getElementById('meuAlerta').addEventListener('close.bs.alert', function () {
            // Este código será executado quando o alerta for fechado
            console.log('Alerta fechado! Execute seu código aqui.');
          });
        });

    </script>
    <script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>
